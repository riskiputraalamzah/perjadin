import{f,h as t,g as D,i as y,r as S,o as i,c as r,a,b,F as c,j as v,t as u}from"./index-DA5MY6av.js";const x={class:"row gy-4"},T={class:"col-md-6"},k={class:"card"},A={class:"card-body"},C={class:"col-md-6"},B={class:"card"},N={class:"card-body"},O={class:"col-12"},j={class:"card w-100"},E={class:"card-body p-4"},L={class:"table-responsive"},M={class:"table text-nowrap mb-0 align-middle"},z={__name:"HomeView",setup(U){const w=f(),e=t({users:[],pegawai:[],suratTugas:[],sppd:[],delegasiPegawai:[],sp2d:[],spm:[]}),p=t([]),F=t({chart:{type:"bar",toolbar:{show:!1},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded",distributed:!0}},colors:["#FF5733","#33FF57","#3357FF","#FF33A1","#A133FF","#FF8C33","#33FFE6"],dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:["Users","Pegawai","Surat Tugas","SPPD","Delegasi Pegawai","SPM","SP2D"]},yaxis:{title:{text:"Data Count"}},fill:{opacity:1},tooltip:{y:{formatter:function(o){return o+" entries"}}}}),g=t([{name:"Data Count",data:[0,0,0,0,0,0,0]}]),_=t({chart:{type:"pie"},title:{text:"Data Distribution ",align:"left"},labels:["Users","Pegawai","Surat Tugas","SPPD","Delegasi Pegawai","SPM","SP2D"],colors:["#FF5733","#33FF57","#3357FF","#FF33A1","#A133FF","#FF8C33","#33FFE6"],responsive:[{breakpoint:480,options:{legend:{position:"bottom"}}}]}),h=t([0,0,0,0,0,0,0]),P=async()=>{const o=["users","pegawai","suratTugas","sppd","delegasiPegawai","spm","sp2d"],s={};for(const l of o){const d=await w.getAllDataFromStore(l);s[l]=d}e.value=s,p.value=s.delegasiPegawai},m=()=>{g.value[0].data=[e.value.users.length,e.value.pegawai.length,e.value.suratTugas.length,e.value.sppd.length,e.value.delegasiPegawai.length,e.value.spm.length,e.value.sp2d.length],h.value=[e.value.users.length,e.value.pegawai.length,e.value.suratTugas.length,e.value.sppd.length,e.value.delegasiPegawai.length,e.value.spm.length,e.value.sp2d.length]};return D(async()=>{await P(),m()}),y(e,()=>{m()},{deep:!0}),(o,s)=>{const l=S("apexchart");return i(),r("div",null,[a("div",x,[a("div",T,[a("div",k,[a("div",A,[b(l,{type:"bar",options:F.value,series:g.value},null,8,["options","series"])])])]),a("div",C,[a("div",B,[a("div",N,[b(l,{type:"pie",options:_.value,series:h.value},null,8,["options","series"])])])]),a("div",O,[a("div",j,[a("div",E,[s[1]||(s[1]=a("h5",{class:"card-title fw-semibold mb-4"},"Pendelegasian Pegawai",-1)),a("div",L,[a("table",M,[s[0]||(s[0]=a("thead",{class:"text-dark fs-4"},[a("tr",null,[a("th",{class:"border-bottom-0"},[a("h6",{class:"fw-semibold mb-0"},"Nama Pegawai")]),a("th",{class:"border-bottom-0"},[a("h6",{class:"fw-semibold mb-0"},"Tujuan")]),a("th",{class:"border-bottom-0"},[a("h6",{class:"fw-semibold mb-0"},"Berapa Lama")]),a("th",{class:"border-bottom-0"},[a("h6",{class:"fw-semibold mb-0"},"Total Uang")])])],-1)),a("tbody",null,[(i(!0),r(c,null,v(p.value,d=>(i(),r(c,{key:d.id},[(i(!0),r(c,null,v(d.relation,n=>(i(),r("tr",{key:n.id},[a("td",null,u(n.pegawai.namaPegawai),1),a("td",null,u(n.noSPPD.tujuan),1),a("td",null,u(n.noSPPD.lamaPenugasan)+" hari",1),a("td",null,u(o.formatRupiah(n.totalSemuaDana)),1)]))),128))],64))),128))])])])])])])])])}}};export{z as default};
